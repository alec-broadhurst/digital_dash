
export component Dashboard inherits Window {
    min-width: 800px;
    min-height: 500px;

    in property <float> rpm;
    in property <float> speed;
    in property <float> best_lap;
    in property <float> current_lap;
    in property <float> race_time;
    in property <float> delta;
    in property <float> temp_left_f;
    in property <float> temp_right_f;
    in property <float> temp_left_r;
    in property <float> temp_right_r;
    in property <int> lap_number;
    in property <int> gear;
    in property <int> position;
    in property <int> accel;
    in property <int> brake;

    property <color> bg-color: #141720;
    property <color> text-color: #ff9a03;
    property <color> rpm1: #00FF00;
    property <color> rpm2: #ff0400;
    property <color> rpm3: #d53af8;

    // Define a model for RPM lights
    in property <[bool]> rpm_lights: [false, false, false, false, false, false, false, false, false, false, false, false, false, false, false];

    GridLayout {
        min-height: 500px;
        min-width: 800px;

        // Top row
        Rectangle {
            border-width: 1px;
            border-color: white;
            col: 0;
            row: 0;
            colspan: 3;
            height: 10%;
            background: bg-color;
            HorizontalLayout {
                padding: 15px;
                spacing: 28px;
                alignment: center;
                for led in rpm_lights : Rectangle {
                    width: 25px;
                    height: 25px;
                    background: led ? #00FF00 : #c0c0c0;
                    border-radius: 15px;
                }
            }
        }

        // Left side
        VerticalLayout {
            width: 25%;
            col: 0;
            row: 1;
            Rectangle {
                border-width: 1px;
                border-color: white;
                background: bg-color;
                Text {
                    font-size: 30px;
                    text: "\{root.speed}\nspeed";
                    color: text-color;
                }
            }

            Rectangle {
                border-width: 1px;
                border-color: white;
                background: bg-color;
                Text {
                    font-size: 30px;
                    text: "\{root.rpm}\nrpm";
                    color: text-color;
                }
            }

            Rectangle {
                border-width: 1px;
                border-color: white;
                height: 15%;
                background: bg-color;
                Text {
                    font-size: 30px;
                    text: "P\{root.position}";
                    color: text-color;
                }
            }

            Rectangle {
                border-width: 1px;
                border-color: white;
                height: 15%;
                background: bg-color;
                Text {
                    font-size: 30px;
                    text: "L\{root.lap_number}";
                    color: text-color;
                }
            }
        }

                // Center
        VerticalLayout {
            width: 50%;
            col: 1;
            row: 1;
            GridLayout {
                // Left thin rectangle
                Rectangle {
                    row: 0;
                    col: 0;
                    width: 5%; // Thin width
                    height: 100%;
                    background: bg-color;
                    border-width: 1px;
                    border-color: white;
                }
                // Gear rectangle
                Rectangle {
                    row: 0;
                    col: 1;
                    height: 70%;
                    background: bg-color;
                    border-width: 1px;
                    border-color: white;
                    Text {
                        font-size: 100px;
                        text: "\{root.gear}\ngear";
                        color: text-color;
                    }
                }
                // Right thin rectangle
                Rectangle {
                    row: 0;
                    col: 2;
                    width: 5%; // Thin width
                    height: 100%;
                    background: bg-color;
                    border-width: 1px;
                    border-color: white;
                }
            }

            Rectangle {
                border-width: 1px;
                border-color: white;
                background: bg-color;
                height: 10%;
                Text {
                    font-size: 15px;
                    text: "Current: \{root.current_lap}";
                    color: text-color;
                }
            }

            Rectangle {
                border-width: 1px;
                border-color: white;
                height: 10%;
                background: bg-color;
                Text {
                    font-size: 15px;
                    text: "Delta: \{root.delta}";
                    color: text-color;
                }
            }

            Rectangle {
                border-width: 1px;
                border-color: white;
                height: 10%;
                background: bg-color;
                Text {
                    font-size: 15px;
                    text: "Best: \{root.best_lap}";
                    color: text-color;
                }
            }
        }

        // Right side
        VerticalLayout {
            width: 25%;
            col: 2;
            row: 1;
            // Tire temp
            Rectangle {
                VerticalLayout {
                    HorizontalLayout {
                        height: 50%;
                        width: 50%;
                        Rectangle {
                            width: 50%;
                            border-width: 1px;
                            border-color: white;
                            background: bg-color;
                            Text {
                                font-size: 30px;
                                text: "\{root.temp_left_f}";
                                color: text-color;
                            }
                        }

                        Rectangle {
                            width: 50%;
                            border-width: 1px;
                            border-color: white;background: bg-color;
                            Text {
                                font-size: 30px;
                                text: "\{root.temp_right_f}";
                                color: text-color;
                            }
                        }
                    }

                    HorizontalLayout {
                        height: 50%;
                        width: 50%;
                        Rectangle {
                            width: 50%;
                            border-width: 1px;
                            border-color: white;
                            background: bg-color;
                            Text {
                                font-size: 30px;
                                text: "\{root.temp_left_r}";
                                color: text-color;
                            }
                        }

                        Rectangle {
                            width: 50%;
                            border-width: 1px;
                            border-color: white;
                            background: bg-color;
                            Text {
                                font-size: 30px;
                                text: "\{root.temp_right_r}";
                                color: text-color;
                            }
                        }
                    }
                }
            }
        }
    }
}
